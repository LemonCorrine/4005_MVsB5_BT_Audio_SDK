--------------------------------------------------------------------------------------
                                RELEASE NOTES

Shanghai Mountain View Silicon Co. Ltd. Copyright 2014, All rights reserved.

免责声明

上海山景集成电路股份有限公司(简称"山景")保留更改本软件开发包（简称SDK）的
权利并且不保证本SDK的完全正确性，相关内容以最新版本为准。用户使用本SDK引
起的任何损失或法律诉讼与山景无关。

山景保留对系统软件产品在可靠性、功能和设计方面的改进以及进一步说明的权利。
山景不承担由本SDK系统软件产品或其芯片的运用和使用所引起的任何责任。山景的
产品不是专门设计应用于外科植入、生命维持和任何山景产品的故障会对个体造成伤
害甚至死亡的领域。如果将山景的产品应用于上述领域，即使这些是由山景在产品设
计和制造上的疏忽引起的，用户也应赔偿所有费用、损失、合理的人身伤害或死亡所
直接或间接产生的律师费用，并且用户保证山景及其雇员、子公司、分支机构和销售
商与上述事宜无关。

任何人不得以任何形式 (如：电子的、机械的、手书的、光学存储的或以其它语言表
述的形式，等等) 复制、复印或存储本文件的全部或一部分内容，除非得到山景的
面同意。

注意：在工程文件中，所有源文件的位置、文件名请不要轻易改动，任何疑问请及时
联系山景的技术工程人员，谢谢！

------------------------------------------------------------------------------------------------
date: 2023_11_30：v2.10.0
1. 启用分离式第三方音效库的集成方案，今后第三方音效库不再和标准库绑定在一起发布。
  A. 第三方库由独立的目录进行维护，见\middleware\roboeffect\third_part_effect\simple_gain\作为一个例子。
  A. 编辑子目录中的UserLibsData.xlsx文件进行参数调整，接口实现和参数定义与原方案无异。
  B. 双击third_party_effects_data_gen.pyc脚本后自动生成挂钩文件：user_defined_effect_api.h
  C. 编译后，即可快速生成带有第三方库功能的固件。
2. 删除总音效库描述文件 AudioEffectLibsData.xlsx，且不再提供相关脚本。

------------------------------------------------------------------------------------------------
date: 2023_11_17：v2.9.1
1. 修复多输入音效在关闭的情况下，数据位宽计算错误的问题。
2. 修复silence_detector在24bit下，返回值溢出的问题。

------------------------------------------------------------------------------------------------
date: 2023_11_14：v2.9.0
1. 增加beamforming音效。
2. 重新规范fader音效的使用（参数有变化，参数文件不兼容）。
依赖关系：
A. 请配合音效库Beamforming_V4.2.2使用；release package中已包含对应的音效库文件。
B. （重要）请配合上位机Acpworkbench v3.7.0及更新的版本使用。


------------------------------------------------------------------------------------------------
date: 2023_11_03：v2.8.0
1. 重新规范音效库信息，之后每个版本都会提供roboeffect_library_info_vX.XX.XX.bin文件以便Acpworkbench进行参数版本转换。
2. 更新文档 audio_effects_overview.pdf。

------------------------------------------------------------------------------------------------
date: 2023_10_27：v2.7.12
1. 音效库升级到v2.34.1，包含以下两处改动：
  A. 增加tremolo（颤音）音效，包括16位和24位输入输出支持，详见tremolo.h
  B. 编译时增加-fwrapv选项，该选项保证32位有符号整数可以按照设计意图正常溢出，无论是何优化选项（-O3, -Os1, ...）。之前输出可能受此影响的模块包括：
    (1) Auto-wah
    (2) Chorus
    (3) Chorus2
    (4) Flanger
    (5) Frequency Shifter Fine
   其他模块也会受此影响，大多数模块的代码量有轻微变大现象，少数模块的代码量变小或者不变，但输出可能不受此影响。

2. 新增音效信息描述文件，见 \documents\audio_effects_overview.pdf

依赖关系：
A. 请配合音效库audio_effect_library 2.34.1使用；release package中已包含对应的音效库文件。
B. （重要）请配合上位机Acpworkbench v3.6.12及更新的版本使用。

------------------------------------------------------------------------------------------------
date: 2023_10_20：v2.7.11
1. 修复biquad参数映射错误的问题。

------------------------------------------------------------------------------------------------
date: 2023_10_17：v2.7.10
1. 修复howling_suppressor_fine音效参数映射错误的问题。
2. 修复beat_tracker音效参数范围和初始化错误的问题。

------------------------------------------------------------------------------------------------
date: 2023_10_11：v2.7.9
1. 音效库更新到2.33.0，vocal_remover音效支持24bit。
依赖关系：
A. 请配合音效库audio_effect_library 2.33.0使用；release package中已包含对应的音效库文件。
B. （重要）请配合上位机Acpworkbench v3.6.12及更新的版本使用。

------------------------------------------------------------------------------------------------
date: 2023_10_11：v2.7.8
1. vocal_cut库更新，支持24bit。
2. 修正上一个版本(v2.7.7)中ROBOEFFECT_LIB_VER版本号错误的问题。
依赖关系：
A. 请配合音效库audio_effect_library 2.32.0使用；release package中已包含对应的音效库文件。
B. （重要）请配合上位机Acpworkbench v3.6.12及更新的版本使用。

------------------------------------------------------------------------------------------------
date: 2023_09_17：v2.7.7
1. 音效库更新到2.32.0: auto wah，chorus2，distortion_ds1，flanger，overdrive_poly音效均开启24位支持。
2. 删除distortion_exp音效，使用distortion_ds1取代之。
3. 增加overdrive_poly音效。
依赖关系：
A. 请配合音效库audio_effect_library 2.32.0使用；release package中已包含对应的音效库文件。
B. （重要）请配合上位机Acpworkbench v3.6.1及更新的版本使用。

------------------------------------------------------------------------------------------------
date: 2023_09_16：v2.7.6
1. 修复若干编译warning。

------------------------------------------------------------------------------------------------
date: 2023_09_15：v2.7.5
1. 修复autotune在16bit下context大小误计算成24bit的问题。

------------------------------------------------------------------------------------------------
date: 2023_09_08：v2.7.4
1. 音效库更新到2.31.0，autotune,pingpong,pcm_delay,echo_init音效的24bit改动及delay buffer的长度处理。
依赖关系：
A. 请配合音效库audio_effect_library 2.31.0使用；release package中已包含对应的音效库文件。
B. （重要）请配合上位机Acpworkbench v3.5.0及更新的版本使用。

------------------------------------------------------------------------------------------------
date: 2023_09_07：v2.7.3
1. 修正roboeffect_get_suit_frame_size()的一个参数判断bug。

------------------------------------------------------------------------------------------------
date: 2023_09_05：v2.7.2
1. 改进roboeffect_get_suit_frame_size()的功能，提供开关音效后的帧长计算。

------------------------------------------------------------------------------------------------
date: 2023_08_31：v2.7.1
1. 修正roboeffect_get_suit_frame_size()一个计算错误。

------------------------------------------------------------------------------------------------
date: 2023_08_31：v2.7.0
1. 帧长改为固定模式，使用g_user_effect_list->frame_size中设置的，运行期不再改变。
2. 新增函数roboeffect_get_suit_frame_size，用于检查即将打开的音效所匹配的帧长。
注意：roboeffect使用有变动，请谨慎移植。

------------------------------------------------------------------------------------------------
date: 2023_08_24：v2.6.3
1. 音效库更新到2.29.0，pcm_delay音效支持24bit，需注意24bit下delay buffer的内存开销。
依赖关系：
A. 请配合音效库audio_effect_library 2.29.0使用；release package中已包含对应的音效库文件。
B. （重要）请配合上位机Acpworkbench v3.4.2及更新的版本使用。

------------------------------------------------------------------------------------------------
date: 2023_08_18：v2.6.2
1. 修正over_drive缺省参数超出范围而无法打开的问题。

------------------------------------------------------------------------------------------------
date: 2023_08_15：v2.6.1
1. 音效库更新到2.28.0，更新了Phase Shifter，Pitch Shifter Pro，Voice Changer Pro，详情请参考音效库的release note。

依赖关系：
A. 请配合音效库audio_effect_library 2.28.0使用；release package中已包含对应的音效库文件。
B. （重要）请配合上位机Acpworkbench v3.4.2及更新的版本使用。

------------------------------------------------------------------------------------------------
date: 2023_08_08：v2.6.0
1. 增加动态帧长切换功能：
  针对voice changer的512帧长增加的切换功能，如若voice changer未激活，使用期望帧长比如256进行处理；
  当voice changer激活，动态切换到512帧长进行处理。
  请参考demo中的roboeffect_get_frame_size_runtime()获取当前实时帧长参数。

依赖关系：
A. 请配合音效库audio_effect_library 2.27.0使用；release package中已包含对应的音效库文件。
B. （重要）请配合上位机Acpworkbench v3.3.3及更新的版本使用。


------------------------------------------------------------------------------------------------
date: 2023_08_02：v2.5.8
1. 修正内部帧长计算错误的一个bug。
2. 修正某些音效context内存大小评估和真实分配不一样的bug。
3. 不同flow chart的user_effect_flow.c 和 user_effect_flow.h使用后缀名区分，请关注ACPWorkbench v3.3.X 的相关改动。
4. 自动化py脚本若干调整，影响到的文件包括：roboeffect_api.h/.c

依赖关系：
A. 请配合音效库audio_effect_library 2.27.0使用；release package中已包含对应的音效库文件。
B. （重要）请配合上位机Acpworkbench v3.3.3及更新的版本使用。

------------------------------------------------------------------------------------------------
date: 2023_07_26：v2.5.6
1. 修改user_effect_flow.c 和 user_effect_flow.h，允许用户修改user_effect_list中的采样率和帧长。

依赖关系：
A. 请配合音效库audio_effect_library 2.27.0使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.3.0及更新的版本使用。

------------------------------------------------------------------------------------------------
date: 2023_07_25：v2.5.5
1. Noise Gate支持24bits。

------------------------------------------------------------------------------------------------
date: 2023_07_21：v2.5.4
1. 音效库更新到2.27.0，新加Howling Guard模块，virtual_bass_td模块，升级Noise Gate 和 Virtual Bass模块。

依赖关系：
A. 请配合音效库audio_effect_library 2.27.0使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.2.12及更新的版本使用。
------------------------------------------------------------------------------------------------
date: 2023_07_18：v2.5.3
1. 优化blue ns音效在不同帧长（128，256，512）下，context memory的长度使用不同的值，以节省内存空间。

------------------------------------------------------------------------------------------------
date: 2023_07_12：v2.5.2
1. 框架增加对64samples帧长的支持。

------------------------------------------------------------------------------------------------
date: 2023_06_29：v2.5.1
1. 修正24bit的echo无法使用high quality的问题。

------------------------------------------------------------------------------------------------
date: 2023_06_28：v2.5.0
1. 音效库更新到v2.26.0，对freqshifter, freqshifter_fine, howling_suppressor_fine增加24bit支持。

依赖关系：
A. 请配合音效库audio_effect_library 2.26.0使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.2.11及更新的版本使用。

------------------------------------------------------------------------------------------------
date: 2023_06_20：v2.4.1
1. 音效库更新到v2.25.3。
2. 修正reverb_plate 16bit下内存估算错误的问题。

------------------------------------------------------------------------------------------------
date: 2023_06_20：v2.4.0
1. 音效库更新到v2.25.2，整合reverb plate音效，支持24bits。
2. 优化roboeffect的内存使用，详细内存构成请查阅 memory_usage.xlsx


依赖关系：
A. 请配合音效库audio_effect_library 2.25.2使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.2.11及更新的版本使用。

------------------------------------------------------------------------------------------------
date: 2023_06_09：v2.3.0
1. 音效库更新到v2.25.0 。
2. 优化roboeffect_get_memory_current_size()计算结果。

依赖关系：
A. 请配合音效库audio_effect_library 2.25.0使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.2.9及更新的版本使用。

--------------------------------------------------------------------------------------
Roboeffect_Library release_note.txt

date: 2023_05_31：v2.2.0
1. 新增biquad音效，需要配合更新的acpworkbench使用。

依赖关系：


------------------------------------------------------------------------------------------------
date: 2023_05_17：v2.1.0
1. 新增route selector节点音效，需要配合更新的acpworkbench使用。

依赖关系：
A. 请配合音效库audio_effect_library 2.22.1使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.2.2及更新的版本使用。

------------------------------------------------------------------------------------------------

date: 2023_05_09：v2.0.1
1. 音效库更新到v2.22.1.

依赖关系：
A. 请配合音效库audio_effect_library 2.22.1使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.2.1及更新的版本使用。

------------------------------------------------------------------------------------------------

date: 2023_05_04：v2.0.0
1. 正式更名为：Roboeffect_Library
2. 音效库更新到v2.22.0，新增howling suppressor fine音效，使用自定义音效实现接口。

依赖关系：
A. 请配合音效库audio_effect_library 2.22.0使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.2.1及更新的版本使用。

------------------------------------------------------------------------------------------------

date: 2023_04_20：v1.2.0
1. 新增用户自定义音效框架，使用方法见用户手册。
2. 重写audio engine音效的素材调用方法。

依赖关系：
A. 请配合音效库audio_effect_library 2.20.2使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.2.0及更新版本使用。

------------------------------------------------------------------------------------------------

date: 2023_03_15：v1.0.4
1. 增加beat_tracker和engine_sound适配。
2. 增加audio_engine_get_effect_version，audio_engine_set_user_callback； 
audio_engine_set_user_callback用于engine_sound注册提供音频素材的回调函数。
3. audio engine若干内存方面的优化。

依赖关系：
A. 请配合音效库audio_effect_library 2.20.2使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.1.12及更新版本使用。

------------------------------------------------------------------------------------------------

date: 2023_03_15：v1.0.3
1. 增加audio_engine_get_frame_size 和 audio_engine_get_effect_name函数
2. 修正bug：获取sink buffer没有判断空指针的问题。
3. audio_engine_init时重新计算frame size，防止user_effect_list设置的帧长不适配造成音效处理错误的问题。

依赖关系：
A. 请配合音效库audio_effect_library 2.20.2使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.1.5及更新版本使用。

------------------------------------------------------------------------------------------------

date: 2023_02_28：v1.0.2
1.Audio_Engine 基本功能，音效库版本升级至2.20.2
依赖关系：
A. 请配合音效库audio_effect_library 2.20.2使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.1.2及更新版本使用。

------------------------------------------------------------------------------------------------

date: 2023_02_27：v1.0.1
1.Audio_Engine 基本功能
依赖关系：
A. 请配合音效库audio_effect_library 2.19.0使用；release package中已包含对应的音效库文件。
B. 请配合上位机Acpworkbench v3.1.2及更新版本使用，特别是user_effect_flow.c/.h需要使用此版本进行导出。


